openapi: 3.0.0
info:
  title: Cab Hive Ride Management API
  version: 1.0.0
  description: API documentation for the Cab Hive order management system

servers:
  - url: http://localhost:8080/api
    description: Local development server

paths:
  /auth/wechat/login:
    post:
      summary: WeChat User Login
      description: Authenticate and log in a user via WeChat.
      operationId: wechatLogin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WechatLoginRequest'
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardResponse'
              example:
                code: 200
                msg: Login successful
                data:
                  token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                  user_id: user_123456
                  role: customer
                  expires_in: 7200
                  user_info:
                    nickname: 张三
                    avatar: https://wx.qlogo.cn/...
                    phone: 138****5678
                timestamp: 2025-07-16T10:30:00Z
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security: []
  
  /auth/driver/register:
    post:
      summary: Driver Registration
      description: Register a new driver with license information.
      operationId: driverRegister
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DriverRegisterRequest'
      responses:
        '200':
          description: Driver registration submitted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardResponse'
              example:
                code: 200
                msg: Driver registration submitted
                data:
                  status: pending
                  driver_id: review_123456
                  estimated_review_time: 24小时内
                timestamp: 2025-07-16T10:30:00Z
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  
  /auth/admin/login:
    post:
      summary: Admin Login
      description: Authenticate an admin user.
      operationId: adminLogin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdminLoginRequest'
      responses:
        '200':
          description: Admin login successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardResponse'
              example:
                code: 200
                msg: Admin login successful
                data:
                  token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                  user_id: admin_001
                  role: admin
                  expires_in: 7200
                  permissions:
                    - user_manage
                    - vehicle_audit
                    - order_manage
                timestamp: 2025-07-16T10:30:00Z
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security: []
  
  /auth/refresh:
    post:
      summary: Refresh Token
      description: Renew JWT token using a refresh token.
      operationId: refreshToken
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
      responses:
        '200':
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardResponse'
              example:
                code: 200
                msg: Token refreshed successfully
                data:
                  token: new_jwt_token
                  expires_in: 7200
                timestamp: 2025-07-16T10:30:00Z
        '401':
          description: Unauthorized
          content:
            application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'
 
 /admin/driver/reviews:
   get:
     summary: List Driver Reviews
     description: Get a list of driver reviews for admin approval.
     operationId: listDriverReviews
     security:
       - BearerAuth: []
     parameters:
       - name: page
         in: query
         schema:
           type: integer
           default: 1
         description: Page number
       - name: page_size
         in: query
         schema:
           type: integer
           default: 10
         description: Number of items per page
       - name: status
         in: query
         schema:
           type: string
         description: Filter by status (pending, approved, rejected)
       - name: action_type
         in: query
         schema:
           type: string
         description: Filter by action type (register, update)
     responses:
       '200':
         description: Successful response
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/StandardResponse'
       '401':
         description: Unauthorized
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'
 
 /admin/driver/review/{id}:
   get:
     summary: Get Driver Review
     description: Get details of a specific driver review.
     operationId: getDriverReview
     security:
       - BearerAuth: []
     parameters:
       - name: id
         in: path
         required: true
         schema:
           type: integer
     responses:
       '200':
         description: Successful response
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/StandardResponse'
       '401':
         description: Unauthorized
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'
       '404':
         description: Review not found
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'
 
 /admin/driver/review/{id}/approve:
   post:
     summary: Approve Driver Review
     description: Approve a driver registration or update request.
     operationId: approveDriverReview
     security:
       - BearerAuth: []
     parameters:
       - name: id
         in: path
         required: true
         schema:
           type: integer
     requestBody:
       required: false
       content:
         application/json:
           schema:
             type: object
             properties:
               comment:
                 type: string
                 description: Admin comment
     responses:
       '200':
         description: Successful response
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/StandardResponse'
       '401':
         description: Unauthorized
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'
       '404':
         description: Review not found
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'
 
 /admin/driver/review/{id}/reject:
   post:
     summary: Reject Driver Review
     description: Reject a driver registration or update request.
     operationId: rejectDriverReview
     security:
       - BearerAuth: []
     parameters:
       - name: id
         in: path
         required: true
         schema:
           type: integer
     requestBody:
       required: true
       content:
         application/json:
           schema:
             type: object
             properties:
               comment:
                 type: string
                 description: Admin comment
             required:
               - comment
     responses:
       '200':
         description: Successful response
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/StandardResponse'
       '401':
         description: Unauthorized
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'
       '404':
         description: Review not found
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'

  /payment/create:
    post:
      summary: Create Alipay Payment Order
      description: Create a new Alipay payment order for a ride order.
      operationId: createAlipayPayment
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAlipayPaymentRequest'
      responses:
        '200':
          description: Payment order created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardResponse'
              example:
                code: 200
                msg: Payment order created successfully
                data:
                  pay_url: https://openapi.alipay.com/gateway.do?...
                timestamp: 2025-07-16T10:30:00Z
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /payment/query:
    post:
      summary: Query Alipay Payment Status
      description: Query the payment status of an Alipay order.
      operationId: queryAlipayPayment
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QueryAlipayPaymentRequest'
      responses:
        '200':
          description: Payment status query successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardResponse'
              example:
                code: 200
                msg: Payment status query successful
                data:
                  trade_status: TRADE_SUCCESS
                  trade_no: 2025071622001234567890
                timestamp: 2025-07-16T10:30:00Z
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /payment/notify:
    post:
      summary: Alipay Payment Notification
      description: Receive payment notification from Alipay.
      operationId: alipayPaymentNotify
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                out_trade_no:
                  type: string
                  description: Merchant order number
                trade_no:
                  type: string
                  description: Alipay transaction number
                trade_status:
                  type: string
                  description: Transaction status
                total_amount:
                  type: string
                  description: Total amount
      responses:
        '200':
          description: Notification received successfully
          content:
            text/plain:
              schema:
                type: string
                example: success
        '500':
          description: Internal server error
          content:
            text/plain:
              schema:
                type: string
                example: fail

  /payment/return:
    get:
      summary: Alipay Payment Return
      description: Handle user return from Alipay after payment.
      operationId: alipayPaymentReturn
      parameters:
        - name: out_trade_no
          in: query
          required: true
          schema:
            type: string
          description: Merchant order number
        - name: trade_no
          in: query
          required: true
          schema:
            type: string
          description: Alipay transaction number
        - name: trade_status
          in: query
          required: true
          schema:
            type: string
          description: Transaction status
        - name: sign
          in: query
          required: true
          schema:
            type: string
          description: Signature
      responses:
        '200':
          description: Payment result page
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security: []

components:
  schemas:
    WechatLoginRequest:
      type: object
      properties:
        code:
          type: string
          description: Temporary WeChat login code
          example: wx_temp_code_123
        encryptedData:
          type: string
          description: Encrypted user data
          example: encrypted_user_data
        iv:
          type: string
          description: Initialization vector
          example: initialization_vector
      required:
        - code
        - encryptedData
        - iv
    
    DriverRegisterRequest:
      type: object
      properties:
        license_number:
          type: string
          description: Driver's license number
          example: 330100199001011234
        license_image:
          type: string
          description: Base64 encoded driver license image
          example: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQ...
        name:
          type: string
          description: Driver's name
          example: 李四
        phone:
          type: string
          description: Driver's phone number
          example: 139****8765
      required:
        - license_number
        - license_image
        - name
        - phone
    
    AdminLoginRequest:
      type: object
      properties:
        phone:
          type: string
          description: Admin phone number
          example: 13800138000
        password:
          type: string
          description: Admin password
          example: admin123456
      required:
        - phone
        - password
    
    RefreshTokenRequest:
      type: object
      properties:
        refresh_token:
          type: string
          description: Refresh token for renewing JWT
          example: refresh_token_string
      required:
        - refresh_token
    
    CreateAlipayPaymentRequest:
      type: object
      properties:
        order_id:
          type: string
          description: Order ID
          example: "123456"
        amount:
          type: number
          format: float
          description: Payment amount
          example: 100.00
        subject:
          type: string
          description: Payment subject
          example: Ride payment
        user_id:
          type: string
          description: User ID
          example: user_123456
      required:
        - order_id
        - amount
        - subject
        - user_id

    QueryAlipayPaymentRequest:
      type: object
      properties:
        order_id:
          type: string
          description: Order ID
          example: "123456"
      required:
        - order_id

    StandardResponse:
      type: object
      properties:
        code:
          type: integer
          description: Response code
        msg:
          type: string
          description: Response message
        data:
          type: object
          description: Response data
        timestamp:
          type: string
          format: date-time
          description: Response timestamp
      required:
        - code
        - msg
        - timestamp
    
    ErrorResponse:
      type: object
      properties:
        code:
          type: integer
          description: Error code
        msg:
          type: string
          description: Error message
        timestamp:
          type: string
          format: date-time
          description: Response timestamp
      required:
       - code
       - msg
       - timestamp
    
    DriverReview:
      type: object
      properties:
        id:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        open_id:
          type: string
        license_number:
          type: string
        name:
          type: string
        phone:
          type: string
        license_image_url:
          type: string
        status:
          type: string
        comment:
          type: string
        action_type:
          type: string
        driver_id:
          type: integer

 securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  /image/upload:
    post:
      summary: Upload Image
      description: Upload an image file to the server.
      operationId: uploadImage
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
                  description: The image file to upload
              required:
                - image
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardResponse'
              example:
                code: 200
                msg: Success
                data:
                  image_url: https://example.com/uploaded_image.jpg
                timestamp: 2025-07-16T10:30:00Z
        '401':
          description: Unauthorized
          content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'

 /orders/immediate:
   post:
     summary: Create Immediate Ride Order
     description: Create a new order order for immediate departure.
     operationId: createImmediateOrder
     security:
       - BearerAuth: []
     requestBody:
       required: true
       content:
         application/json:
           schema:
             $ref: '#/components/schemas/CreateImmediateOrderRequest'
     responses:
       '200':
         description: Order created successfully
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/StandardResponse'
             example:
               code: 200
               msg: Success
               data:
                 order_id: 1
               timestamp: 2025-07-16T10:30:00Z
       '401':
         description: Unauthorized
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'

 /orders/{id}:
   get:
     summary: Get Ride Order Details
     description: Get details of a specific order order.
     operationId: getRideOrder
     security:
       - BearerAuth: []
     parameters:
       - name: id
         in: path
         required: true
         schema:
           type: integer
     responses:
       '200':
         description: Successful response
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/StandardResponse'
             example:
               code: 200
               msg: Success
               data:
                 id: 1
                 user_open_id: openid_user1
                 driver_open_id: ""
                 vehicle_id: 0
                 start_location:
                   latitude: 36.68013
                   longitude: 117.06533
                   name: 当前位置
                 end_location:
                   name: 山东大学(中心校区)
                   latitude: 36.675681
                   longitude: 117.059985
                   address: 山东省济南市历城区山大南路27号
                   province: 山东省
                   city: 济南市
                   district: 历城区
                 route_points:
                   - latitude: 36.680143
                     longitude: 117.06532
                 start_time: "2025-07-16 10:30:00"
                 end_time: null
                 distance: 1.24
                 duration: 5
                 fare: 8
                 tolls: 8
                 status: waiting_for_driver
                 payment_time: null
                 comment: ""
                 cancel_reason: ""
                 rating: 0
                 reserve_time: "2025-07-16 11:00:00"
               timestamp: 2025-07-16T10:30:00Z
       '401':
         description: Unauthorized
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'

components:
 schemas:
   CreateImmediateOrderRequest:
     type: object
     properties:
       points:
         type: array
         items:
           $ref: '#/components/schemas/LocationPoint'
       distance:
         type: integer
       duration:
         type: integer
       tolls:
         type: number
         format: float
       tags:
         type: array
         items:
           type: string
       steps:
         type: array
         items:
           $ref: '#/components/schemas/RouteStep'
       startLocation:
         $ref: '#/components/schemas/Location'
       endLocation:
         $ref: '#/components/schemas/Location'

   LocationPoint:
     type: object
     properties:
       latitude:
         type: number
         format: float
       longitude:
         type: number
         format: float

   Restriction:
     type: object
     properties:
       status:
         type: integer

   RouteStep:
     type: object
     properties:
       instruction:
         type: string
       road_name:
         type: string
       dir_desc:
         type: string
       distance:
         type: integer
       act_desc:
         type: string
       accessorial_desc:
         type: string

   RawData:
     type: object
     properties:
       mode:
         type: string
       distance:
         type: integer
       duration:
         type: integer
       traffic_light_count:
         type: integer
       toll:
         type: integer
       restriction:
         $ref: '#/components/schemas/Restriction'
       polyline:
         type: array
         items:
           type: number
           format: float
       steps:
         type: array
         items:
           $ref: '#/components/schemas/RouteStep'
       tags:
         type: array
         items:
           type: string
       taxi_fare:
         $ref: '#/components/schemas/TaxiFare'

   TaxiFare:
     type: object
     properties:
       fare:
         type: number
         format: float

   Location:
     type: object
     properties:
       latitude:
         type: number
         format: float
       longitude:
         type: number
         format: float
       name:
         type: string
       address:
         type: string
       province:
         type: string
       city:
         type: string
       district:
         type: string

 /orders/immediate:
   post:
     summary: Create Immediate Ride Order
     description: Create a new order order for immediate departure.
     operationId: createImmediateOrder
     security:
       - BearerAuth: []
     requestBody:
       required: true
       content:
         application/json:
           schema:
             $ref: '#/components/schemas/CreateImmediateOrderRequest'
     responses:
       '200':
         description: Order created successfully
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/StandardResponse'
             example:
               code: 200
               msg: Success
               data:
                 order_id: 1
               timestamp: 2025-07-16T10:30:00Z
       '401':
         description: Unauthorized
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'

 /orders/{id}:
   get:
     summary: Get Ride Order Details
     description: Get details of a specific order order.
     operationId: getRideOrder
     security:
       - BearerAuth: []
     parameters:
       - name: id
         in: path
         required: true
         schema:
           type: integer
     responses:
       '200':
         description: Successful response
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/StandardResponse'
             example:
               code: 200
               msg: Success
               data:
                 id: 1
                 user_open_id: openid_user1
                 driver_open_id: ""
                 vehicle_id: 0
                 start_location:
                   latitude: 36.68013
                   longitude: 117.06533
                   name: 起点位置描述
                 end_location:
                   latitude: 36.675681
                   longitude: 117.059985
                   name: 终点位置描述
                   address: 山东省济南市历城区山大南路27号
                   province: 山东省
                   city: 济南市
                   district: 历城区
                 route_points:
                   - latitude: 36.680143
                     longitude: 117.06532
                 start_time: "2025-07-16 10:30:00"
                 end_time: null
                 distance: 1.24
                 duration: 5
                 fare: 8
                 tolls: 8
                 status: waiting_for_driver
                 payment_time: null
                 comment: 订单备注
                 cancel_reason: ""
                 rating: 0
                 reserve_time: "2025-07-16 11:00:00"
               timestamp: 2025-07-16T10:30:00Z
       '401':
         description: Unauthorized
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'

components:
 schemas:
   CreateImmediateOrderRequest:
     type: object
     properties:
       user_open_id:
         type: string
         description: User's OpenID
         example: openid_user1
       start_location:
         type: string
         description: Start location description
         example: 起点位置描述
       end_location:
         type: string
         description: End location description
         example: 终点位置描述
       distance:
         type: number
         format: float
         description: Distance in kilometers
         example: 10.5
       fare:
         type: number
         format: float
         description: Fare amount
         example: 25.0
       comment:
         type: string
         description: Order comment
         example: 订单备注
     required:
       - user_open_id
       - start_location
       - end_location

 /orders/immediate:
   post:
     summary: Create Immediate Ride Order
     description: Create a new order order for immediate departure.
     operationId: createImmediateOrder
     security:
       - BearerAuth: []
     requestBody:
       required: true
       content:
         application/json:
           schema:
             $ref: '#/components/schemas/CreateImmediateOrderRequest'
     responses:
       '200':
         description: Order created successfully
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/StandardResponse'
             example:
               code: 200
               msg: Order created successfully
               data:
                 id: 1
                 user_open_id: openid_user1
                 driver_open_id: ""
                 vehicle_id: 0
                 start_location:
                   latitude: 36.68013
                   longitude: 117.06533
                   name: 起点位置描述
                 end_location:
                   latitude: 36.675681
                   longitude: 117.059985
                   name: 终点位置描述
                   address: 山东省济南市历城区山大南路27号
                   province: 山东省
                   city: 济南市
                   district: 历城区
                 route_points:
                   - latitude: 36.680143
                     longitude: 117.06532
                 start_time: "2025-07-16 10:30:00"
                 end_time: null
                 distance: 1.24
                 duration: 5
                 fare: 8
                 tolls: 8
                 status: waiting_for_driver
                 payment_time: null
                 comment: 订单备注
                 cancel_reason: ""
                 rating: 0
               timestamp: 2025-07-16T10:30:00Z
       '401':
         description: Unauthorized
         content:
           application/json:
             schema:
               $ref: '#/components/schemas/ErrorResponse'

components:
 schemas:
   CreateImmediateOrderRequest:
     type: object
     properties:
       user_open_id:
         type: string
         description: User's OpenID
         example: openid_user1
       start_location:
         type: string
         description: Start location description
         example: 起点位置描述
       end_location:
         type: string
         description: End location description
         example: 终点位置描述
       distance:
         type: number
         format: float
         description: Distance in kilometers
         example: 10.5
       fare:
         type: number
         format: float
         description: Fare amount
         example: 25.0
       comment:
         type: string
         description: Order comment
         example: 订单备注
     required:
       - user_open_id
       - start_location
       - end_location
 /orders/unfinished:
    get:
      summary: Get Unfinished Ride Order
      description: Get the unfinished order order for the current user.
      operationId: getUnfinishedOrder
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardResponse'
              example:
                code: 200
                msg: Success
                data:
                  id: 1
                  user_open_id: openid_user1
                  driver_open_id: ""
                  vehicle_id: 0
                  start_location:
                    latitude: 36.68013
                    longitude: 117.06533
                    name: 当前位置
                  end_location:
                    name: 山东大学(中心校区)
                    latitude: 36.675681
                    longitude: 117.059985
                    address: 山东省济南市历城区山大南路27号
                    province: 山东省
                    city: 济南市
                    district: 历城区
                  route_points:
                    - latitude: 36.680143
                      longitude: 117.06532
                  start_time: "2025-07-16 10:30:00"
                  end_time: null
                  distance: 1.24
                  duration: 5
                  fare: 8
                  tolls: 8
                  status: waiting_for_driver
                  payment_time: null
                  comment: ""
                  cancel_reason: ""
                  rating: 0
                  reserve_time: "2025-07-16 11:00:00"
                timestamp: 2025-07-16T10:30:00Z
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

 /orders/driver/unfinished:
    get:
      summary: Get Driver Unfinished Order
      description: Get the unfinished order for the current driver.
      operationId: getDriverUnfinishedOrder
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardResponse'
              example:
                code: 200
                msg: Success
                data:
                  id: 1
                  user_open_id: openid_user1
                  driver_open_id: openid_driver1
                  vehicle_id: 1
                  start_location:
                    latitude: 36.68013
                    longitude: 117.06533
                    name: 当前位置
                  end_location:
                    name: 山东大学(中心校区)
                    latitude: 36.675681
                    longitude: 117.059985
                    address: 山东省济南市历城区山大南路27号
                    province: 山东省
                    city: 济南市
                    district: 历城区
                  route_points:
                    - latitude: 36.680143
                      longitude: 117.06532
                  start_time: "2025-07-16 10:30:00"
                  end_time: null
                  distance: 1.24
                  duration: 5
                  fare: 8
                  tolls: 8
                  status: waiting_for_driver
                  payment_time: null
                  comment: ""
                  cancel_reason: ""
                  rating: 0
                  reserve_time: "2025-07-16 11:00:00"
                timestamp: 2025-07-16T10:30:00Z
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'